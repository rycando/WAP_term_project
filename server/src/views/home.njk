{% extends "layout.njk" %}
{% set title = "캠퍼스북 - 홈" %}

{% block content %}
<div class="container stack" id="home-root">
  <div class="card">
    <div class="section-heading">
      <div>
        <h2>중고 전공 도서</h2>
        <p>필요한 책을 빠르게 찾고, 안 쓰는 책을 간편하게 판매하세요.</p>
      </div>
      <a href="/books/new"><button>내 책 등록하기</button></a>
    </div>
  </div>

  <div class="section-heading">
    <h3>최근 등록</h3>
    <span class="muted" id="book-count">0권</span>
  </div>

  <div class="home-grid" id="book-list"></div>

  {% if user %}
  <div class="card stack" id="alert-card" style="display:none;">
    <div class="section-heading">
      <h3>키워드 알림</h3>
      <span class="muted" id="alert-count"></span>
    </div>
    <div id="alert-list" class="pill-row"></div>
    <p class="muted" id="alert-empty" style="display:none;">
      등록한 키워드와 맞는 새 책이 올라오면 알려드릴게요.
    </p>
  </div>
  {% endif %}
</div>
{% endblock %}

{% block scripts %}
<script src="/static/js/home.js"></script>
{% endblock %}
